{
  "roomId": "escape-room-01",
  "name": "Classic Office Escape",
  "description": "Escape from a mysterious office building by solving puzzles and finding clues.",
  "dimensions": {
    "width": 800,
    "height": 600
  },
  "spawnPoints": [
    { "x": 100, "y": 100 },
    { "x": 120, "y": 100 },
    { "x": 140, "y": 100 },
    { "x": 160, "y": 100 }
  ],
  "walls": [
    {
      "id": "wall_north",
      "x": 0,
      "y": 0,
      "width": 800,
      "height": 20,
      "solid": true,
      "texture": "wall_brick"
    },
    {
      "id": "wall_south",
      "x": 0,
      "y": 580,
      "width": 800,
      "height": 20,
      "solid": true,
      "texture": "wall_brick"
    },
    {
      "id": "wall_west",
      "x": 0,
      "y": 20,
      "width": 20,
      "height": 560,
      "solid": true,
      "texture": "wall_brick"
    },
    {
      "id": "wall_east",
      "x": 780,
      "y": 20,
      "width": 20,
      "height": 560,
      "solid": true,
      "texture": "wall_brick"
    }
  ],
  "objects": [
    {
      "id": "desk1",
      "type": "furniture",
      "x": 200,
      "y": 200,
      "width": 80,
      "height": 40,
      "solid": true,
      "interactable": true,
      "texture": "desk_wood",
      "interactions": [
        {
          "type": "search",
          "description": "Search the desk for clues",
          "requires": [],
          "effects": [
            {
              "type": "give_item",
              "item": "office_key",
              "message": "You found a key in the desk drawer!"
            }
          ]
        }
      ]
    },
    {
      "id": "door1",
      "type": "door",
      "x": 600,
      "y": 250,
      "width": 20,
      "height": 80,
      "solid": true,
      "interactable": true,
      "texture": "door_office",
      "interactions": [
        {
          "type": "unlock",
          "description": "Unlock the door",
          "requires": ["office_key"],
          "effects": [
            {
              "type": "complete_room",
              "message": "Congratulations! You escaped the office!"
            }
          ]
        },
        {
          "type": "examine",
          "description": "The door is locked. You need a key.",
          "requires": [],
          "condition": "!has_item:office_key"
        }
      ]
    },
    {
      "id": "bookshelf1",
      "type": "furniture",
      "x": 50,
      "y": 300,
      "width": 30,
      "height": 100,
      "solid": true,
      "interactable": true,
      "texture": "bookshelf",
      "interactions": [
        {
          "type": "examine",
          "description": "Look at the bookshelf",
          "requires": [],
          "effects": [
            {
              "type": "show_message",
              "message": "The books seem to be arranged in a specific pattern... Maybe it's a clue?"
            }
          ]
        }
      ]
    },
    {
      "id": "computer1",
      "type": "interactive",
      "x": 220,
      "y": 180,
      "width": 40,
      "height": 30,
      "solid": false,
      "interactable": true,
      "texture": "computer",
      "interactions": [
        {
          "type": "use",
          "description": "Use the computer",
          "requires": [],
          "effects": [
            {
              "type": "show_puzzle",
              "puzzle": "password_puzzle",
              "message": "The computer requires a password..."
            }
          ]
        }
      ]
    },
    {
      "id": "plant1",
      "type": "decoration",
      "x": 400,
      "y": 450,
      "width": 25,
      "height": 30,
      "solid": false,
      "interactable": true,
      "texture": "plant_office",
      "interactions": [
        {
          "type": "search",
          "description": "Check behind the plant",
          "requires": [],
          "effects": [
            {
              "type": "give_item",
              "item": "note_clue",
              "message": "There's a note hidden behind the plant!"
            }
          ]
        }
      ]
    }
  ],
  "items": [
    {
      "id": "office_key",
      "name": "Office Key",
      "description": "A small brass key that looks like it fits the office door.",
      "icon": "key_brass",
      "consumable": false
    },
    {
      "id": "note_clue",
      "name": "Mysterious Note",
      "description": "A handwritten note with the numbers: 4815",
      "icon": "note_paper",
      "consumable": false,
      "content": "Password hint: The year this building was constructed"
    }
  ],
  "puzzles": [
    {
      "id": "password_puzzle",
      "type": "input",
      "title": "Computer Password",
      "description": "Enter the password to unlock the computer:",
      "answer": "4815",
      "hint": "Check for clues around the room",
      "success_message": "Access granted! The computer shows a message: 'The key is in the desk drawer.'",
      "failure_message": "Access denied. Try again."
    }
  ],
  "objectives": [
    {
      "id": "find_key",
      "description": "Find a way to unlock the door",
      "completed": false
    },
    {
      "id": "escape_room",
      "description": "Escape from the office",
      "completed": false
    }
  ],
  "hints": [
    {
      "trigger": "time:120",
      "message": "Try searching the furniture for useful items."
    },
    {
      "trigger": "time:300",
      "message": "Have you checked the computer? It might have useful information."
    },
    {
      "trigger": "interaction:door1",
      "condition": "!has_item:office_key",
      "message": "You need to find a key to unlock this door."
    }
  ],
  "lighting": {
    "ambient": 0.3,
    "sources": [
      {
        "x": 400,
        "y": 300,
        "radius": 150,
        "intensity": 0.7,
        "color": "#ffffff"
      }
    ]
  },
  "background": {
    "texture": "office_floor",
    "tileX": 64,
    "tileY": 64
  }
}
